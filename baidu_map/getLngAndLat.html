<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>baidu map获取点击点的经纬度</title>
    <style type="text/css">
    </style>
    <link rel="stylesheet" href="../vendor/application.css">
    <script src="../vendor/application.js"></script>
    <script type="text/javascript" src="http://api.map.baidu.com/api?v=1.5&ak=k75vyRMTMZA96lTGftEOVWZp"></script>
    <script src="./map-tool.js"></script>
    <!--引用百度地图API-->
</head>

<body>
    <h2>在地图上选点，获得点的经纬度</h2>
    <!--百度地图容器-->
    <div style="width:697px;height:550px;border:#ccc solid 1px;" id="map"></div>
</body>
<script type="text/javascript">
$(document).ready(function() {
    var SuperMap = window.SuperMap;
    var centerPoint = new BMap.Point(120.735539, 31.280427);
    var superMap = SuperMap.create('map', centerPoint);

    superMap.addNavigationControl(); // 导航控件
    superMap.addOverviewControl(); // 缩略图控件
    superMap.addScaleControl(); // 添加比例尺控件

    superMap.getMap().addEventListener('click', function(evt) {
        var copyText = evt.point.lng + ", " + evt.point.lat;
        copyToClipBoard(copyText);
        if(window.clipboardData){
            alert('已复制(经度,纬度)：' + evt.point.lng + ", " + evt.point.lat);
        } else{
            alert('经度,纬度：' + evt.point.lng + ", " + evt.point.lat);
        }
    });


    function copyToClipBoard(copyText) {
        if (window.clipboardData) { // ie
            window.clipboardData.setData("Text", copyText);
        }
        //其他浏览器就要用flash来实现了。。。实现该功能的插件 http://zeroclipboard.org/
    }
});
</script>

</html>
